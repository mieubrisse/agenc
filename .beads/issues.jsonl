{"id":"agent-3m8","title":"Debug blank mission exits immediately and cannot be resumed","description":"After the server-side mission launch refactor (commit 9ca6441), creating a blank mission with 'agenc mission new --blank --focus' creates the mission and pool window, but the mission exits/errors immediately. Attempting to resume it also exits immediately. This suggests the wrapper process in the pool window is crashing on startup. Possible causes: (1) The pool window runs 'agenc mission resume \u003cid\u003e' which now goes through the wrapper's Run() method â€” but something in the wrapper startup fails for blank missions (no git repo, no agent directory contents?). (2) The wrapper's OAuth token setup might fail silently in the pool window context. (3) The wrapper might be detecting it's already running and refusing to start. Check the wrapper log at ~/.agenc/missions/\u003cid\u003e/wrapper.log and the pool window's tmux output for error messages. Key files: internal/wrapper/wrapper.go (Run method), internal/mission/mission.go (SpawnClaudeWithPrompt, BuildClaudeCmd), internal/server/pool.go (createPoolWindow). The pool window command is: '\u003cagenc-binary\u003e mission resume \u003cmission-id\u003e'.","notes":"The failing blank mission is 96376ab3. Check wrapper log at ~/.agenc/missions/96376ab3*/wrapper.log and pool window output.","status":"closed","priority":2,"issue_type":"bug","owner":"1142185+mieubrisse@users.noreply.github.com","created_at":"2026-02-28T14:12:57Z","created_by":"Kevin Today","updated_at":"2026-02-28T14:23:24Z","closed_at":"2026-02-28T14:23:24Z","close_reason":"Fixed: pool window commands now pass --run-wrapper to run the wrapper directly instead of going through the client-side attach flow that caused an infinite loop"}
{"id":"agent-58c","title":"Remove 'agenc tmux window new' wrapper from builtin palette commands","description":"The builtin palette commands (Quick Claude, Adjutant, New Mission, Resume) currently wrap 'agenc mission new/resume' inside 'agenc tmux window new -- ...'. This is unnecessary now that mission new/resume delegates to the server which creates pool windows. The palette commands can call 'agenc mission new/resume' directly since it just pings the server and returns immediately. Remove the 'agenc tmux window new' wrapper from the default palette commands in internal/config/agenc_config.go.","status":"closed","priority":2,"issue_type":"task","owner":"1142185+mieubrisse@users.noreply.github.com","created_at":"2026-02-28T14:55:10Z","created_by":"Kevin Today","updated_at":"2026-03-01T00:01:43Z","closed_at":"2026-03-01T00:01:43Z","close_reason":"Removed agenc tmux window new wrapper from 5 builtin palette commands that use mission new/resume"}
{"id":"agent-9je","title":"Link new mission window adjacent to user's current window","description":"When a new mission window is linked into the user's tmux session via linkPoolWindow, it should appear right next to the user's current window rather than at the end of the window list. Use the tmux -a flag on link-window to insert the new window after the current one. This makes it easy to find the newly created mission. Key file: internal/server/pool.go (linkPoolWindow function).","status":"closed","priority":2,"issue_type":"task","owner":"1142185+mieubrisse@users.noreply.github.com","created_at":"2026-02-28T14:55:13Z","created_by":"Kevin Today","updated_at":"2026-03-01T00:02:19Z","closed_at":"2026-03-01T00:02:19Z","close_reason":"Added -a flag to link-window so new missions appear adjacent to the current window"}
{"id":"agent-pjk","title":"Debug 1-2s lag on mission resume","description":"After the server-side mission launch refactor (commit 9ca6441), 'agenc mission resume' has a noticeable 1-2s delay before the mission window appears. Previously resume was instant because the wrapper ran in-process. Now resume calls POST /missions/{id}/attach which does ensureWrapperInPool (checks PID file, checks pool window existence) + linkPoolWindow. The lag likely comes from one of: (1) ensureWrapperInPool doing multiple tmux commands sequentially (has-session, new-window), (2) the HTTP round-trip over Unix socket, (3) the serverClient() call in resumeMission doing ensureServerRunning + getAgencContext lazily, or (4) the tmux link-window command itself. Profile the attach flow to identify which step introduces the latency. Key files: cmd/mission_resume.go (resumeMission), internal/server/missions.go (handleAttachMission, ensureWrapperInPool), internal/server/pool.go (createPoolWindow, linkPoolWindow).","status":"open","priority":2,"issue_type":"bug","owner":"1142185+mieubrisse@users.noreply.github.com","created_at":"2026-02-28T14:12:46Z","created_by":"Kevin Today","updated_at":"2026-02-28T14:12:46Z"}
